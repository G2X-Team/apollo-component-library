import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs';
import { linkTo } from '@storybook/addon-links';
import { Dropdown, Menu, Button, Option, Icon, Text } from '../src';

<Meta title="Layout/Dropdown" component={Dropdown} />

# Dropdown

The Dropdown component can be thought of as this provider that fasciliates the implementation of
your standard Dropdown. Now worrying about opening and closing, accessibility, and the other
hassles that typically come with this component.

## References

These are some of the components that we use in the Dropdown. You might benefit from taking a look
at them:

-   [Menu](?path=/docs/interfacing-menu--listbox-menu)
-   [Option](?path=/docs/interfacing-option--default)
-   [Button](?path=/docs/layout-button--standard-button)
-   [Icon](?path=/docs/layout-icon--default)

## Setup

The Dropdown component is another example of a provider that implements the `Menu` component. Since
we can typically attribute a dropdown menu to a single button, we don't want to accept any further
layout outside of what we've provided. This means that the only supported children of the `Dropdown`
is a `Button` or `Icon` and a `Menu`.

This makes the `Dropdown` component pretty simple to implement. All you got to do is wrap your
`Button` or `Icon` with the `Dropdown` component and pass in the `Menu` component as a child and
you're good to go. No need to worry about the rest, because wo do it under the hood.

> **Fair warning:** Trying to add more than one `Menu` to a `Dropdown` will result in an error.
> The same applies to `Button` components and `Icon` components.

<Canvas>
    <Story name="Basic Dropdown" height="150px">
        {(args) => (
            <Dropdown {...args}>
                <Button>Click Me</Button>
                <Menu label="Button Dropdown">
                    <Option>Option 1</Option>
                    <Option>Option 2</Option>
                    <Option>Option 3</Option>
                </Menu>
            </Dropdown>
        )}
    </Story>
</Canvas>

## Functionality

Our goal with the `Dropdown` component was for it to be convenient and easy to use. To not overbear
our users, we just added the essentials functionality wise.

### Different Button Variations?

The cool thing that we set out to do with Apollo's dropdown is that we wanted the user to have a
lot of flexibility in how they wanted to implement the dropdown button, other than using our own
`Button` component.

#### Icon Buttons

Like we said previously, the `Dropdown` supports a `Button` or `Icon` as a child. This means that
in order to have a working `Icon` dropdown, all you have to do is add it in place of a `Button`
as a child. Apollo will identify the `Icon` as the dropdown button and you are done.

<Canvas>
    <Story name="Icon Dropdown" height="150px">
        {(args) => (
            <Dropdown {...args}>
                <Icon name="menu" />
                <Menu label="Button Dropdown">
                    <Option>Option 1</Option>
                    <Option>Option 2</Option>
                    <Option>Option 3</Option>
                </Menu>
            </Dropdown>
        )}
    </Story>
</Canvas>

#### More Button Options?

Well, you know how we said you can use other components as dropdown buttons other than our own, right?
All you have to do to accomplish that is use the style-less variant of the `Button` component. You can
think of this as a clickable `<a>` tag. Just wrap whatever you want to wrap inside of the `Button` and
boom! You have a dropdown button completely styled to your liking.

> **Fair warning:** Since the area `Button` kind of lets you do whatever you want, you have to be aware
> that adding elements with nested clickable elements would render this component unaccessible for
> keyboard users. Just make sure that whatever you put in there doesn't have an selectable element
> and you should be good to go ðŸ™‚

<Canvas>
    <Story name="Area Dropdown" height="150px">
        {(args) => (
            <Dropdown {...args}>
                <Button variant="area">
                    <Text disabled underline bold>
                        Click Me
                    </Text>
                </Button>
                <Menu label="Button Dropdown">
                    <Option>Option 1</Option>
                    <Option>Option 2</Option>
                    <Option>Option 3</Option>
                </Menu>
            </Dropdown>
        )}
    </Story>
</Canvas>

## Anchoring and Alignment

For this one, we'll just let you play around with it. Changing the `anchor` prop will change the
point at which the dropdown menu will be anchored to the button. The `alignment` prop will change
the alignment of the dropdown menu in relation to the button.

> To play around with anchor and alignment, go to the "Canvas" section of storybook and click one
> "Anchoring the Dropdown" under Layout > Dropdown

<Canvas>
    <Story name="Anchoring the Dropdown" height="400px">
        {(args) => (
            <div
                style={{
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    height: 400,
                    width: '100%',
                }}
            >
                <Dropdown {...args}>
                    <Button>This is a dropdown</Button>
                    <Menu label="Dropdown" width={150}>
                        <Option>Hello</Option>
                        <Option>How you doing</Option>
                        <Option>How you doing</Option>
                        <Option>How you doing</Option>
                        <Option>Goodbye</Option>
                    </Menu>
                </Dropdown>
            </div>
        )}
    </Story>
</Canvas>

## Other Props & Functionalities

For a run down of all the properties that the Dropdown offers, please refer to the table below.

<ArgsTable of={Dropdown} />
